(this["webpackJsonpcannabis-db-ui"]=this["webpackJsonpcannabis-db-ui"]||[]).push([[0],{109:function(e,t,a){e.exports=a(138)},114:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=(a(114),a(7)),l=a(189),u=a(186),s=a(48),m=a(206),d=a(176);function p(e){return r.a.createElement(m.a,{value:e.navValue,onChange:e.onNavChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(d.a,{label:"What's New?"}),r.a.createElement(d.a,{label:"Add new entries"}),r.a.createElement(d.a,{label:"See the data"}),r.a.createElement(d.a,{label:"Visualize with Tableau"}))}a(49);function f(){return r.a.createElement("div",null,r.a.createElement("div",{className:"title"},"Kanabi"),r.a.createElement("div",{className:"subtitle"},"by PSU FireAnts capstone team"))}function b(){return r.a.createElement("div",null,r.a.createElement("h1",null,"What's new?"))}var h=a(188),g=a(214),E=a(210),y=a(183),v=a(184),O=a(185),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;return r.a.createElement(g.a,{style:{marginBottom:"1rem"},fullWidth:!0,label:e,variant:"outlined",onChange:a,defaultValue:t})};function C(e){var t=e.isDialog,a=e.dialogOpen,c=e.onDialogClose,o=e.row,l=e.onSubmit,s=o||{row:"","Submission date":"",Entity:"",DBA:"","Facility Address":"","Facility Suite #":"","Facility Zip":"","Mailing Address":"",MRL:"","Neighborhood Association":"","Compliance Region":"","Primary Contact First Name":"","Primary Contact Last Name":"",Email:"",Phone:"","Endorse Type":"","License Type":"","Repeat location?":"","App complete?":"","Fee Schedule":"","Receipt No.":"","Cash Amount":"","Check Amount":"","Card Amount":"","Check No. / Approval Code":"","MRL#":"",Notes:""},m=Object(n.useState)(s.row),d=Object(i.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)(s.submission_date),h=Object(i.a)(b,2),g=h[0],C=h[1],k=Object(n.useState)(s.entity),w=Object(i.a)(k,2),_=w[0],S=w[1],A=Object(n.useState)(s.dba),N=Object(i.a)(A,2),F=N[0],R=N[1],x=Object(n.useState)(s.facility_address),P=Object(i.a)(x,2),L=P[0],D=P[1],M=Object(n.useState)(s.facility_suite),T=Object(i.a)(M,2),W=T[0],B=T[1],U=Object(n.useState)(s.facility_zip),z=Object(i.a)(U,2),I=z[0],Z=z[1],V=Object(n.useState)(s.mailing_address),J=Object(i.a)(V,2),q=J[0],Q=J[1],H=Object(n.useState)(s.mrl),K=Object(i.a)(H,2),X=K[0],Y=K[1],$=Object(n.useState)(s.neighborhood_association),G=Object(i.a)($,2),ee=G[0],te=G[1],ae=Object(n.useState)(s.compliance_region),ne=Object(i.a)(ae,2),re=ne[0],ce=ne[1],oe=Object(n.useState)(s.primary_contact_first_name),ie=Object(i.a)(oe,2),le=ie[0],ue=ie[1],se=Object(n.useState)(s.primary_contact_last_name),me=Object(i.a)(se,2),de=me[0],pe=me[1],fe=Object(n.useState)(s.email),be=Object(i.a)(fe,2),he=be[0],ge=be[1],Ee=Object(n.useState)(s.phone),ye=Object(i.a)(Ee,2),ve=ye[0],Oe=ye[1],je=Object(n.useState)(s.endorse_type),Ce=Object(i.a)(je,2),ke=Ce[0],we=Ce[1],_e=Object(n.useState)(s.license_type),Se=Object(i.a)(_e,2),Ae=Se[0],Ne=Se[1],Fe=Object(n.useState)(s.repeat_location),Re=Object(i.a)(Fe,2),xe=Re[0],Pe=Re[1],Le=Object(n.useState)(s.app_complete),De=Object(i.a)(Le,2),Me=De[0],Te=De[1],We=Object(n.useState)(s.fee_schedule),Be=Object(i.a)(We,2),Ue=Be[0],ze=Be[1],Ie=Object(n.useState)(s.receipt_num),Ze=Object(i.a)(Ie,2),Ve=Ze[0],Je=Ze[1],qe=Object(n.useState)(s.cash_amount),Qe=Object(i.a)(qe,2),He=Qe[0],Ke=Qe[1],Xe=Object(n.useState)(s.check_amount),Ye=Object(i.a)(Xe,2),$e=Ye[0],Ge=Ye[1],et=Object(n.useState)(s.card_amount),tt=Object(i.a)(et,2),at=tt[0],nt=tt[1],rt=Object(n.useState)(s.check_num_approval_code),ct=Object(i.a)(rt,2),ot=ct[0],it=ct[1],lt=Object(n.useState)(s.mrl_num),ut=Object(i.a)(lt,2),st=ut[0],mt=ut[1],dt=Object(n.useState)(s.notes),pt=Object(i.a)(dt,2),ft=pt[0],bt=pt[1],ht=function(e){l({row:p,"Submission date":g,Entity:_,DBA:F,"Facility Address":L,"Facility Suite #":W,"Facility Zip":I,"Mailing Address":q,MRL:X,"Neighborhood Association":ee,"Compliance Region":re,"Primary Contact First Name":le,"Primary Contact Last Name":de,Email:he,Phone:ve,"Endorse Type":ke,"License Type":Ae,"Repeat location?":xe,"App complete?":Me,"Fee Schedule":Ue,"Receipt No.":Ve,"Cash Amount":He,"Check Amount":$e,"Card Amount":at,"Check No. / Approval Code":ot,"MRL#":st,Notes:ft}),t&&c()},gt=function(){return r.a.createElement(r.a.Fragment,null,j("row",s.row,(function(e){return f(e.target.value)})),j("Submission date",s.submission_date,(function(e){return C(e.target.value)})),j("Entity",s.entity,(function(e){return S(e.target.value)})),j("DBA",s.dba,(function(e){return R(e.target.value)})),j("Facility Address",s.facility_address,(function(e){return D(e.target.value)})),j("Facility Suite #",s.facility_suite,(function(e){return B(e.target.value)})),j("Facility Zip",s.facility_zip,(function(e){return Z(e.target.value)})),j("Mailing Address",s.mailing_address,(function(e){return Q(e.target.value)})),j("MRL",s.mrl,(function(e){return Y(e.target.value)})),j("Neighborhood Association",s.neighborhood_association,(function(e){return te(e.target.value)})),j("Compliance Region",s.compliance_region,(function(e){return ce(e.target.value)})),j("Primary Contact First Name",s.primary_contact_first_name,(function(e){return ue(e.target.value)})),j("Primary Contact Last Name",s.primary_contact_last_name,(function(e){return pe(e.target.value)})),j("Email",s.email,(function(e){return ge(e.target.value)})),j("Phone",s.phone,(function(e){return Oe(e.target.value)})),j("Endorse Type",s.endorse_type,(function(e){return we(e.target.value)})),j("License Type",s.license_type,(function(e){return Ne(e.target.value)})),j("Repeat location?",s.repeat_location,(function(e){return Pe(e.target.value)})),j("App complete?",s.app_complete,(function(e){return Te(e.target.value)})),j("Fee Schedule",s.fee_schedule,(function(e){return ze(e.target.value)})),j("Receipt No.",s.receipt_num,(function(e){return Je(e.target.value)})),j("Cash Amount",s.cash_amount,(function(e){return Ke(e.target.value)})),j("Check Amount",s.check_amount,(function(e){return Ge(e.target.value)})),j("Card Amount",s.card_amount,(function(e){return nt(e.target.value)})),j("Check No. / Approval Code",s.check_num_approval_code,(function(e){return it(e.target.value)})),j("MRL#",s.mrl_num,(function(e){return mt(e.target.value)})),j("Notes",s.notes,(function(e){return bt(e.target.value)})))};return!0===t?r.a.createElement(E.a,{open:a,onClose:c,onEnter:function(){f(s.row),C(s.submission_date),S(s.entity),R(s.dba),D(s.facility_address),B(s.facility_suite),Z(s.facility_zip),Q(s.mailing_address),Y(s.mrl),te(s.neighborhood_association),ce(s.compliance_region),ue(s.primary_contact_first_name),pe(s.primary_contact_last_name),ge(s.email),Oe(s.phone),we(s.endorse_type),Ne(s.license_type),Pe(s.repeat_location),Te(s.app_complete),ze(s.fee_schedule),Je(s.receipt_num),Ke(s.cash_amount),Ge(s.check_amount),nt(s.card_amount),it(s.check_num_approval_code),mt(s.mrl_num),bt(s.notes)},"aria-labelledby":"intake-row-form-dialog"},r.a.createElement(y.a,null,"Edit row ",s.row),r.a.createElement(v.a,null,gt()),r.a.createElement(O.a,null,r.a.createElement(u.a,{onClick:c,color:"secondary"},"Cancel"),r.a.createElement(u.a,{onClick:ht,color:"primary"},"Submit"))):r.a.createElement("form",null,gt(),r.a.createElement(u.a,{variant:"contained",color:"primary",onClick:ht},"Submit"))}var k=a(96),w=a(182),_=a(139),S=a(187),A=a(88),N=a.n(A),F=a(15),R=a.n(F),x=a(27);function P(e){return L.apply(this,arguments)}function L(){return(L=Object(x.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.text){e.next=4;break}return e.abrupt("return",t.text());case 4:return e.abrupt("return",Promise.resolve(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(x.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://capstone.sugar.coffee/list?table=intake").then((function(e){if(!e.ok)throw e;return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(x.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={table:"intake",where:t},e.abrupt("return",fetch("https://capstone.sugar.coffee/query",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(!e.ok)throw e;return e.json()})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(x.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://capstone.sugar.coffee/load?table=intake",{method:"put",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw e;return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(x.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t,t.name),e.abrupt("return",fetch("https://capstone.sugar.coffee/load",{method:"post",body:a}).then((function(e){if(!e.ok)throw e;return e.json()})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(x.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{returnCode:200});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(x.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{returnCode:200,rowEdited:t});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(x.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{email:"admin@gmail.com",name:"admin",is_admin:!0});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(x.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{returnCode:200});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=a(213),V=a(207),J=Object(n.createContext)();function q(e){var t=e.severity,a=e.message,n=e.open,c=e.onClose;return r.a.createElement(Z.a,{open:n,onClose:c,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(V.a,{variant:"filled",onClose:c,severity:t},a))}function Q(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(J);return r.a.createElement("div",null,r.a.createElement(k.a,{onDrop:function(e){c(a.concat(e))}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({className:"dropzone"},t()),r.a.createElement("input",a()),r.a.createElement(N.a,{style:{fontSize:"4rem"}}),r.a.createElement("br",null),r.a.createElement(u.a,{variant:"contained",color:"primary"},"Click to upload spreadsheets"),r.a.createElement("p",null,"or drag and drop them here"))})),a.length>0?r.a.createElement(w.a,{dense:!0},a.map((function(e,t){return r.a.createElement(_.a,{key:"file-".concat(t)},r.a.createElement(S.a,null,e.name))}))):null,r.a.createElement(u.a,{variant:"contained",color:"primary",onClick:function(e){if(a.length>0){var t=[];a.forEach((function(e){return t.push(function(e){return W.apply(this,arguments)}(e))})),Promise.all(t).then((function(){console.log("added all file(s)"),o("success","Added all files")})).catch((function(e){P(e).then((function(e){console.log("add files fail",e),o("error","Fail to add file(s). Error message: ".concat(e))}))})).finally((function(){return c([])}))}else console.log("no files to submit"),o("error","No files to add")}},"Submit"))}function H(e){var t=e.isUserAdmin,a=Object(n.useContext)(J);return t?r.a.createElement(h.a,{maxWidth:"lg"},r.a.createElement(l.a,{container:!0,spacing:3},r.a.createElement(l.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement(h.a,{maxWidth:"md"},r.a.createElement("h1",null,"Add entries via spreadsheets"),r.a.createElement(Q,null))),r.a.createElement(l.a,{item:!0,xs:12,sm:12,md:8},r.a.createElement(h.a,{maxWidth:"md"},r.a.createElement("h1",null,"Add an entry"),r.a.createElement(C,{onSubmit:function(e){(function(e){return T.apply(this,arguments)})(e).then((function(e){console.log("added row",e),a("success","Added row ".concat(e.row))})).catch((function(e){P(e).then((function(e){console.log("add row fail",e),a("error","Failed to add row. Error message: ".concat(e))}))}))}}))))):r.a.createElement(h.a,{maxWidth:"lg"},r.a.createElement(s.a,{variant:"body1",align:"center"},"You are not an admin. Please log in."))}var K=a(198),X=a(199),Y=a(200),$=a(195),G=a(196),ee=a(219),te=a(201),ae=a(202),ne=a(211),re=a(190),ce=a(191),oe=a(217),ie=a(205),le=a(177),ue=a(215),se=a(192),me=a(193),de=a(89),pe=a.n(de),fe=a(90),be=a.n(fe);function he(e){var t=e.onSubmit,a=e.allColumns,c=Object(n.useState)(""),o=Object(i.a)(c,2),l=o[0],m=o[1],d=Object(n.useState)(a),p=Object(i.a)(d,2),f=p[0],b=p[1],h=function(e){e.preventDefault(),t({table:"intake",columns:f,where:l})};return r.a.createElement(ne.a,null,r.a.createElement(re.a,{expandIcon:r.a.createElement(pe.a,null),"aria-controls":"panel-content"},r.a.createElement(be.a,null),r.a.createElement(s.a,null,"Filters")),r.a.createElement(ce.a,null,r.a.createElement("form",{style:{width:"100%"},onSubmit:h},r.a.createElement(oe.a,{id:"columns-label"},"Columns"),r.a.createElement(ie.a,{labelId:"columns-label",id:"columns-select",multiple:!0,value:f,onChange:function(e){return b(e.target.value)},input:r.a.createElement(le.a,null),renderValue:function(e){return e.map((function(e){return r.a.createElement(ue.a,{key:e,label:e})}))},style:{width:"100%"}},a.map((function(e){return r.a.createElement(se.a,{key:e,value:e},e)}))),r.a.createElement(g.a,{style:{marginTop:"1rem"},fullWidth:!0,label:"Where",onChange:function(e){return m(e.target.value)}}))),r.a.createElement(me.a,null,r.a.createElement(u.a,{onClick:h},"Filter")))}var ge=a(194),Ee=a(209),ye=a(216);function ve(e){var t=e.onSelectAllClick,a=e.order,n=e.orderBy,c=e.numSelected,o=e.rowCount,i=e.onRequestSort,l=e.headers;return r.a.createElement(ge.a,null,r.a.createElement($.a,null,r.a.createElement(G.a,{padding:"checkbox"},r.a.createElement(Ee.a,{indeterminate:c>0&&c<o,checked:o>0&&c===o,onChange:t,inputProps:{"aria-label":"select all desserts"}})),l.map((function(e){return r.a.createElement(G.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(ye.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(t=e.id,function(e){i(e,t)})},e.label));var t}))))}function Oe(e){var t=e.onRowClick,a=e.isRowSelected,n=e.index,c=e.row,o=e.shownColumns,i="intake-table-checkbox-".concat(n),l=function(e){return"intake-table-cell-".concat(n,"-").concat(e)},u=function(e){return o.includes(e)};return r.a.createElement($.a,{hover:!0,onClick:t,role:"checkbox","aria-checked":a,tabIndex:-1,key:c.row,selected:a},r.a.createElement(G.a,{padding:"checkbox"},r.a.createElement(Ee.a,{checked:a,inputProps:{"aria-labelledby":i}})),u("row")&&r.a.createElement(G.a,{key:l("row"),align:"right"},c.row),u("Submission date")&&r.a.createElement(G.a,{key:l("Submission date"),align:"left"},c.submission_date),u("Entity")&&r.a.createElement(G.a,{key:l("Entity"),align:"left"},c.entity),u("DBA")&&r.a.createElement(G.a,{key:l("DBA"),align:"left"},c.dba),u("Facility Address")&&r.a.createElement(G.a,{key:l("Facility Address"),align:"left"},c.facility_address),u("Facility Suite #")&&r.a.createElement(G.a,{key:l("Facility Suite #"),align:"right"},c.facility_suite),u("Facility Zip")&&r.a.createElement(G.a,{key:l("Facility Zip"),align:"right"},c.facility_zip),u("Mailing Address")&&r.a.createElement(G.a,{key:l("Mailing Address"),align:"left"},c.mailing_address),u("MRL")&&r.a.createElement(G.a,{key:l("MRL"),align:"left"},c.mrl),u("Neighborhood Association")&&r.a.createElement(G.a,{key:l("Neighborhood Association"),align:"left"},c.neighborhood_association),u("Compliance Region")&&r.a.createElement(G.a,{key:l("Compliance Region"),align:"left"},c.compliance_region),u("Primary Contact First Name")&&r.a.createElement(G.a,{key:l("Primary Contact First Name"),align:"left"},c.primary_contact_first_name),u("Primary Contact Last Name")&&r.a.createElement(G.a,{key:l("Primary Contact Last Name"),align:"left"},c.primary_contact_last_name),u("Email")&&r.a.createElement(G.a,{key:l("Email"),align:"left"},c.email),u("Phone")&&r.a.createElement(G.a,{key:l("Phone"),align:"left"},c.phone),u("Endorse Type")&&r.a.createElement(G.a,{key:l("Endorse Type"),align:"left"},c.endorse_type),u("License Type")&&r.a.createElement(G.a,{key:l("License Type"),align:"left"},c.license_type),u("Repeat location?")&&r.a.createElement(G.a,{key:l("Repeat location?"),align:"left"},c.repeat_location),u("App complete?")&&r.a.createElement(G.a,{key:l("App complete?"),align:"left"},c.app_complete),u("Fee Schedule")&&r.a.createElement(G.a,{key:l("Fee Schedule"),align:"left"},c.fee_schedule),u("Receipt No.")&&r.a.createElement(G.a,{key:l("Receipt No."),align:"left"},c.receipt_num),u("Cash Amount")&&r.a.createElement(G.a,{key:l("Cash Amount"),align:"left"},c.cash_amount),u("Check Amount")&&r.a.createElement(G.a,{key:l("Check Amount"),align:"left"},c.check_amount),u("Card Amount")&&r.a.createElement(G.a,{key:l("Card Amount"),align:"left"},c.card_amount),u("Check No. / Approval Code")&&r.a.createElement(G.a,{key:l("Check No. / Approval Code"),align:"right"},c.check_num_approval_code),u("MRL#")&&r.a.createElement(G.a,{key:l("MRL#"),align:"left"},c.mrl_num),u("Notes")&&r.a.createElement(G.a,{key:l("Notes"),align:"left"},c.notes))}var je=a(197),Ce=a(212),ke=a(98),we=a(94),_e=a.n(we),Se=a(93),Ae=a.n(Se),Ne=a(92),Fe=a.n(Ne);function Re(e){var t=e.numSelected,a=e.onDeleteRows,n=e.onRefreshTable,c=e.onEditRow,o=e.isUserAdmin;return r.a.createElement(je.a,null,r.a.createElement(s.a,{variant:"h6"},"Intake"),r.a.createElement(Ce.a,{title:"Refresh"},r.a.createElement(ke.a,{"aria-label":"refresh-table",onClick:n},r.a.createElement(Fe.a,null))),1===t&&!0===o?r.a.createElement(Ce.a,{title:"Edit"},r.a.createElement(ke.a,{"aria-label":"edit-row",onClick:c},r.a.createElement(Ae.a,null))):null,t>0&&!0===o?r.a.createElement(Ce.a,{title:"Delete"},r.a.createElement(ke.a,{"aria-label":"delete-rows",onClick:a},r.a.createElement(_e.a,null))):null,r.a.createElement(s.a,{variant:"subtitle1"},t," selected"))}var xe=[{id:"row",numeric:!0,label:"row"},{id:"Submission date",numeric:!1,label:"Submission date"},{id:"Entity",numeric:!1,label:"Entity"},{id:"DBA",numeric:!1,label:"DBA"},{id:"Facility Address",numeric:!1,label:"Facility Address"},{id:"Facility Suite #",numeric:!0,label:"Facility Suite #"},{id:"Facility Zip",numeric:!0,label:"Facility Zip"},{id:"Mailing Address",numeric:!1,label:"Mailing Address"},{id:"MRL",numeric:!1,label:"MRL"},{id:"Neighborhood Association",numeric:!1,label:"Neighborhood Association"},{id:"Compliance Region",numeric:!1,label:"Compliance Region"},{id:"Primary Contact First Name",numeric:!1,label:"Primary Contact First Name"},{id:"Primary Contact Last Name",numeric:!1,label:"Primary Contact Last Name"},{id:"Email",numeric:!1,label:"Email"},{id:"Phone",numeric:!1,label:"Phone"},{id:"Endorse Type",numeric:!1,label:"Endorse Type"},{id:"License Type",numeric:!1,label:"License Type"},{id:"Repeat location?",numeric:!1,label:"Repeat location?"},{id:"App complete?",numeric:!1,label:"App complete?"},{id:"Fee Schedule",numeric:!1,label:"Fee Schedule"},{id:"Receipt No.",numeric:!1,label:"Receipt No."},{id:"Cash Amount",numeric:!1,label:"Cash Amount"},{id:"Check Amount",numeric:!1,label:"Check Amount"},{id:"Card Amount",numeric:!1,label:"Card Amount"},{id:"Check No. / Approval Code",numeric:!0,label:"Check No. / Approval Code"},{id:"MRL#",numeric:!1,label:"MRL#"},{id:"Notes",numeric:!1,label:"Notes"}],Pe=xe.map((function(e){return e.label}));function Le(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function De(e){var t=e.isUserAdmin,a=Object(n.useState)("asc"),c=Object(i.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)("row"),m=Object(i.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)([]),b=Object(i.a)(f,2),g=b[0],E=b[1],y=Object(n.useState)(0),v=Object(i.a)(y,2),O=v[0],j=v[1],k=Object(n.useState)(!0),w=Object(i.a)(k,2),_=w[0],S=w[1],A=Object(n.useState)(10),N=Object(i.a)(A,2),F=N[0],R=N[1],x=Object(n.useState)(!1),L=Object(i.a)(x,2),T=L[0],W=L[1],z=Object(n.useState)(Pe),I=Object(i.a)(z,2),Z=I[0],V=I[1],q=Object(n.useState)([]),Q=Object(i.a)(q,2),H=Q[0],ne=Q[1],re=Object(n.useContext)(J),ce=xe.filter((function(e){return Z.includes(e.label)})),oe=function(){(function(){return D.apply(this,arguments)})().then((function(e){ne(e),E([]),console.log("table refreshed"),re("success","Intake table refreshed")})).catch((function(e){P(e).then((function(e){console.log("table refresh fail",e),re("error","Failed to refresh intake table. Error message: ".concat(e))}))}))};Object(n.useEffect)(oe,[]);var ie,le=F-Math.min(F,H.length-O*F),ue=function(e){(function(e){return M.apply(this,arguments)})(e.where).then((function(t){ne(t),V(e.columns),console.log("filtered",t),re("success","Filtered intake table")})).catch((function(e){P(e).then((function(e){console.log("filter fail",e),re("error","Failed to filter intake table. Error message: ".concat(e))}))}))};return 0===H.length?r.a.createElement(h.a,{maxWidth:"lg"},r.a.createElement(Re,{isUserAdmin:t,numSelected:g.length}),r.a.createElement(he,{onSubmit:ue,allColumns:Pe}),r.a.createElement(s.a,{variant:"body1",align:"center"},"No data.")):r.a.createElement(h.a,{maxWidth:"lg"},r.a.createElement(Re,{isUserAdmin:t,numSelected:g.length,onDeleteRows:function(){if(g.length>0){var e=[];g.forEach((function(t){return e.push(function(e){return B.apply(this,arguments)}(t))})),Promise.all(e).then((function(){oe(),console.log("deleted rows: ".concat(g)),re("success","Deleted rows: ".concat(g))})).catch((function(e){P(e).then((function(e){console.log("delete rows fail",e),re("error","Failed to delete rows. Error message: ".concat(e))}))})).finally((function(){return E([])}))}else console.log("no rows to delete"),re("error","No rows to delete")},onEditRow:function(){return W(!0)},onRefreshTable:oe}),r.a.createElement(he,{onSubmit:ue,allColumns:Pe}),r.a.createElement(K.a,null,r.a.createElement(X.a,{"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"Data table"},r.a.createElement(ve,{headers:ce,numSelected:g.length,order:o,orderBy:d,onSelectAllClick:function(e){if(e.target.checked){var t=H.map((function(e){return e.row}));E(t)}else E([])},onRequestSort:function(e,t){l(d===t&&"asc"===o?"desc":"asc"),p(t)},rowCount:H.length}),r.a.createElement(Y.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(H,function(e,t){return"desc"===e?function(e,a){return Le(e,a,t)}:function(e,a){return-Le(e,a,t)}}(o,d)).slice(O*F,O*F+F).map((function(e,t){return r.a.createElement(Oe,{key:t,onRowClick:function(t){return function(e,t){var a=g.indexOf(t),n=[];-1===a?n=n.concat(g,t):0===a?n=n.concat(g.slice(1)):a===g.length-1?n=n.concat(g.slice(0,-1)):a>0&&(n=n.concat(g.slice(0,a),g.slice(a+1))),E(n)}(0,e.row)},isRowSelected:(a=e.row,-1!==g.indexOf(a)),index:t,row:e,shownColumns:Z});var a})),le>0&&r.a.createElement($.a,{style:{height:(_?33:53)*le}},r.a.createElement(G.a,{colSpan:6}))))),r.a.createElement(ee.a,{rowsPerPageOptions:[5,10,25,50,100],component:"div",count:H.length,rowsPerPage:F,page:O,onChangePage:function(e,t){j(t)},onChangeRowsPerPage:function(e){R(parseInt(e.target.value,10)),j(0)}}),r.a.createElement(te.a,{control:r.a.createElement(ae.a,{checked:_,onChange:function(e){S(e.target.checked)}}),label:"Dense padding"}),r.a.createElement(C,{isDialog:!0,row:(ie=g[0],H.find((function(e){return e.row===ie}))),dialogOpen:T,onDialogClose:function(){return W(!1)},onSubmit:function(e){1===g.length?function(e){return U.apply(this,arguments)}(e).then((function(){oe(),console.log("edited row: ".concat(g)),re("success","Edited row: ".concat(g))})).catch((function(e){P(e).then((function(e){console.log("edit row fail",e),re("error","Failed to edit row. Error message: ".concat(e))}))})).finally((function(){return E([])})):(console.log("cannot edit more than 1 row"),re("error","Cannot edit more than one row"))}}))}function Me(e){var t=e.isUserAdmin;return r.a.createElement(De,{isUserAdmin:t})}function Te(){return r.a.createElement(h.a,{maxWidth:"lg"},r.a.createElement("iframe",{title:"youtube",width:"100%",height:"500",src:"https://www.youtube-nocookie.com/embed/dQw4w9WgXcQ",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),r.a.createElement(u.a,{style:{marginRight:"1rem"},variant:"outlined",color:"primary"},"Download this workbook"),r.a.createElement(u.a,{variant:"contained",color:"primary"},"Open in Tableau Desktop"))}function We(e){var t=e.open,a=e.onClose,c=e.onSubmit,o=Object(n.useState)(""),l=Object(i.a)(o,2),s=l[0],m=l[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),f=p[0],b=p[1];return r.a.createElement(E.a,{open:t,onClose:a,"aria-labelledby":"login-dialog"},r.a.createElement(y.a,null,"Login"),r.a.createElement(v.a,null,j("Email","",(function(e){return m(e.target.value)})),r.a.createElement(g.a,{style:{marginBottom:"1rem"},fullWidth:!0,label:"Password",type:"password",variant:"outlined",onChange:function(e){return b(e.target.value)}})),r.a.createElement(O.a,null,r.a.createElement(u.a,{onClick:a,color:"secondary"},"Cancel"),r.a.createElement(u.a,{onClick:function(){s.length>0&&f.length>0?c({email:s,password:f}):console.log("must enter both email and password")},color:"primary"},"Submit")))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Be=a(203),Ue=a(204),ze=a(95),Ie=a.n(ze),Ze=a(72),Ve=a.n(Ze),Je=Ie()({palette:{primary:{main:Ve.a[900]},secondary:{main:Ve.a[600]}}});o.a.render(r.a.createElement(Be.a,{theme:Je},r.a.createElement(Ue.a,null),r.a.createElement((function(e){var t=Object(n.useState)("success"),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)("Alert loaded"),u=Object(i.a)(l,2),s=u[0],m=u[1],d=Object(n.useState)(!1),p=Object(i.a)(d,2),f=p[0],b=p[1];return r.a.createElement(J.Provider,{value:function(e,t){o(e),m(t),f&&b(!1),b(!0)}},e.children,r.a.createElement(q,{severity:c,message:s,open:f,onClose:function(){return b(!1)}}))}),null,r.a.createElement((function(){var e=Object(n.useState)(2),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),m=Object(i.a)(o,2),d=m[0],h=m[1],g=Object(n.useState)(""),E=Object(i.a)(g,2),y=E[0],v=E[1],O=Object(n.useState)(!1),j=Object(i.a)(O,2),C=j[0],k=j[1],w=Object(n.useState)(!1),_=Object(i.a)(w,2),S=_[0],A=_[1],N=Object(n.useContext)(J);return r.a.createElement(l.a,{container:!0,spacing:1},r.a.createElement(l.a,{item:!0,xs:12,sm:6},r.a.createElement(f,null)),r.a.createElement(l.a,{item:!0,xs:12,sm:6},C?r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{style:{margin:"1rem 1rem",float:"right"},onClick:function(){(function(e){return I.apply(this,arguments)})().then((function(e){A(!1),k(!1),console.log("logged out",e),N("success","Logged out.")})).catch((function(e){P(e).then((function(e){console.log("log out fail",e),N("warning","Failed to log out. Error message: ".concat(e))}))}))}},"Logout"),r.a.createElement(s.a,{variant:"body1",style:{marginTop:"1.35rem"},align:"right"},"Hi there, ",y)):r.a.createElement(u.a,{style:{margin:"1rem 1rem",float:"right"},onClick:function(){return h(!0)}},"Login")),r.a.createElement(l.a,{item:!0,xs:12},r.a.createElement(p,{navValue:a,onNavChange:function(e,t){c(t)}})),r.a.createElement(l.a,{item:!0,xs:12},function(){switch(a){case 0:return r.a.createElement(b,{isUserAdmin:S});case 1:return r.a.createElement(H,{isUserAdmin:S});case 2:return r.a.createElement(Me,{isUserAdmin:S});case 3:return r.a.createElement(Te,{isUserAdmin:S})}}()),r.a.createElement(We,{open:d,onClose:function(){return h(!1)},onSubmit:function(e){h(!1),function(e){return z.apply(this,arguments)}(e).then((function(e){k(!0),v(e.name),!0===e.is_admin?A(!0):A(!1),console.log("logged in",e),N("success","Logged in as ".concat(e.name,"."))})).catch((function(e){P(e).then((function(e){console.log("log in fail",e),N("Failed to log in. Error message: ".concat(e))}))}))}}))}),null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},49:function(e,t,a){}},[[109,1,2]]]);
//# sourceMappingURL=main.0e6cf57a.chunk.js.map