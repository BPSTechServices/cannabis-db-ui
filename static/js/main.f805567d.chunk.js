(this["webpackJsonpcannabis-db-ui"]=this["webpackJsonpcannabis-db-ui"]||[]).push([[0],{111:function(e,t,a){e.exports=a(140)},116:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),l=(a(116),a(6)),i=a(187),u=a(178),s=a(49),m=a(185),d=a(208),f=a(177);function p(e){return r.a.createElement(d.a,{value:e.navValue,onChange:e.onNavChange,indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(f.a,{label:"What's New?"}),r.a.createElement(f.a,{label:"Add new entries"}),r.a.createElement(f.a,{label:"See the data"}),r.a.createElement(f.a,{label:"Visualize with Tableau"}))}a(42);function b(){return r.a.createElement(u.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(u.a,{item:!0,className:"title"},"Kanabi"),r.a.createElement(u.a,{item:!0,className:"subtitle"},"by PSU FireAnts capstone team"))}function h(){return r.a.createElement("div",null,r.a.createElement("h1",null,"What's new?"))}var g=a(213),y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;return r.a.createElement(g.a,{margin:"dense",fullWidth:!0,label:e,variant:"outlined",onChange:a,defaultValue:t})};function E(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(""),s=Object(l.a)(u,2),d=s[0],f=s[1],p=Object(n.useState)(""),b=Object(l.a)(p,2),h=b[0],g=b[1],E=Object(n.useState)(""),O=Object(l.a)(E,2),j=O[0],v=O[1],_=Object(n.useState)(""),k=Object(l.a)(_,2),S=k[0],w=k[1],C=Object(n.useState)(""),A=Object(l.a)(C,2),R=A[0],N=A[1],F=Object(n.useState)(""),x=Object(l.a)(F,2),P=x[0],L=x[1],D=Object(n.useState)(""),T=Object(l.a)(D,2),M=T[0],I=T[1],W=Object(n.useState)(""),z=Object(l.a)(W,2),B=z[0],J=z[1],Z=Object(n.useState)(""),V=Object(l.a)(Z,2),q=V[0],Q=V[1],Y=Object(n.useState)(""),H=Object(l.a)(Y,2),K=H[0],U=H[1],X=Object(n.useState)(""),$=Object(l.a)(X,2),G=$[0],ee=$[1],te=Object(n.useState)(""),ae=Object(l.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(""),oe=Object(l.a)(ce,2),le=oe[0],ie=oe[1],ue=Object(n.useState)(""),se=Object(l.a)(ue,2),me=se[0],de=se[1],fe=Object(n.useState)(""),pe=Object(l.a)(fe,2),be=pe[0],he=pe[1],ge=Object(n.useState)(""),ye=Object(l.a)(ge,2),Ee=ye[0],Oe=ye[1],je=Object(n.useState)(""),ve=Object(l.a)(je,2),_e=ve[0],ke=ve[1],Se=Object(n.useState)(""),we=Object(l.a)(Se,2),Ce=we[0],Ae=we[1],Re=Object(n.useState)(""),Ne=Object(l.a)(Re,2),Fe=Ne[0],xe=Ne[1],Pe=Object(n.useState)(""),Le=Object(l.a)(Pe,2),De=Le[0],Te=Le[1],Me=Object(n.useState)(""),Ie=Object(l.a)(Me,2),We=Ie[0],ze=Ie[1],Be=Object(n.useState)(""),Je=Object(l.a)(Be,2),Ze=Je[0],Ve=Je[1],qe=Object(n.useState)(""),Qe=Object(l.a)(qe,2),Ye=Qe[0],He=Qe[1],Ke=Object(n.useState)(""),Ue=Object(l.a)(Ke,2),Xe=Ue[0],$e=Ue[1],Ge=Object(n.useState)(""),et=Object(l.a)(Ge,2),tt=et[0],at=et[1],nt=Object(n.useState)(""),rt=Object(l.a)(nt,2),ct=rt[0],ot=rt[1];return r.a.createElement("form",null,r.a.createElement(r.a.Fragment,null,y("row","",(function(e){return i(e.target.value)})),y("Submission date","",(function(e){return f(e.target.value)})),y("Entity","",(function(e){return g(e.target.value)})),y("DBA","",(function(e){return v(e.target.value)})),y("Facility Address","",(function(e){return w(e.target.value)})),y("Facility Suite #","",(function(e){return N(e.target.value)})),y("Facility Zip","",(function(e){return L(e.target.value)})),y("Mailing Address","",(function(e){return I(e.target.value)})),y("MRL","",(function(e){return J(e.target.value)})),y("Neighborhood Association","",(function(e){return Q(e.target.value)})),y("Compliance Region","",(function(e){return U(e.target.value)})),y("Primary Contact First Name","",(function(e){return ee(e.target.value)})),y("Primary Contact Last Name","",(function(e){return re(e.target.value)})),y("Email","",(function(e){return ie(e.target.value)})),y("Phone","",(function(e){return de(e.target.value)})),y("Endorse Type","",(function(e){return he(e.target.value)})),y("License Type","",(function(e){return Oe(e.target.value)})),y("Repeat location?","",(function(e){return ke(e.target.value)})),y("App complete?","",(function(e){return Ae(e.target.value)})),y("Fee Schedule","",(function(e){return xe(e.target.value)})),y("Receipt No.","",(function(e){return Te(e.target.value)})),y("Cash Amount","",(function(e){return ze(e.target.value)})),y("Check Amount","",(function(e){return Ve(e.target.value)})),y("Card Amount","",(function(e){return He(e.target.value)})),y("Check No. / Approval Code","",(function(e){return $e(e.target.value)})),y("MRL#","",(function(e){return at(e.target.value)})),y("Notes","",(function(e){return ot(e.target.value)}))),r.a.createElement(m.a,{style:{marginTop:"1rem"},variant:"contained",color:"primary",onClick:function(e){t({row:o,"Submission date":d,Entity:h,DBA:j,"Facility Address":S,"Facility Suite #":R,"Facility Zip":P,"Mailing Address":M,MRL:B,"Neighborhood Association":q,"Compliance Region":K,"Primary Contact First Name":G,"Primary Contact Last Name":ne,Email:le,Phone:me,"Endorse Type":be,"License Type":Ee,"Repeat location?":_e,"App complete?":Ce,"Fee Schedule":Fe,"Receipt No.":De,"Cash Amount":We,"Check Amount":Ze,"Card Amount":Ye,"Check No. / Approval Code":Xe,"MRL#":tt,Notes:ct})}},"Submit"))}var O=a(97),j=a(184),v=a(141),_=a(186),k=a(89),S=a.n(k),w=a(13),C=a.n(w),A=a(24),R="https://capstone.sugar.coffee/list?table=intake",N="https://capstone.sugar.coffee/list",F="https://capstone.sugar.coffee/load?table=intake",x="https://capstone.sugar.coffee/load",P="https://capstone.sugar.coffee/delete?table=intake",L="https://capstone.sugar.coffee/update",D="https://capstone.sugar.coffee/login",T="https://capstone.sugar.coffee/logout",M="https://capstone.sugar.coffee/enablereadonly";function I(e){return W.apply(this,arguments)}function W(){return(W=Object(A.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.text){e.next=4;break}return e.abrupt("return",t.text());case 4:return e.abrupt("return",Promise.resolve(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(A.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(R).then((function(e){if(!e.ok)throw e;return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(A.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={table:"intake",where:JSON.parse(t)},e.abrupt("return",fetch(N,{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(!e.ok)throw e;return e.json()})));case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",Promise.reject("".concat(t," is not a valid JSON object")));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function J(){return(J=Object(A.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(F,{method:"put",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw e;return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(A.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t,t.name),e.abrupt("return",fetch(x,{method:"post",body:a}).then((function(e){if(!e.ok)throw e;return e.json()})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(A.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(t)){e.next=2;break}return e.abrupt("return",Promise.reject("".concat(t," is not a number")));case 2:return a="".concat(P,"&row=").concat(t),e.abrupt("return",fetch(a).then((function(e){if(!e.ok)throw e;return e.json()})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(A.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(L,{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw e;return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=Object(A.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(D,{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw e;return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(A.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(T).then((function(e){if(!e.ok)throw e;return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return K.apply(this,arguments)}function K(){return(K=Object(A.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(M).then((function(e){if(!e.ok)throw e;return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=a(214),X=a(207),$=Object(n.createContext)();function G(e){var t=e.severity,a=e.message,n=e.open,c=e.onClose;return r.a.createElement(U.a,{open:n,onClose:c,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(X.a,{variant:"filled",onClose:c,severity:t},a))}function ee(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)($);return r.a.createElement("div",null,r.a.createElement(O.a,{onDrop:function(e){c(a.concat(e))}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",Object.assign({className:"dropzone"},t()),r.a.createElement("input",a()),r.a.createElement(S.a,{style:{fontSize:"4rem"}}),r.a.createElement("br",null),r.a.createElement(m.a,{variant:"contained",color:"primary"},"Click to upload spreadsheets"),r.a.createElement("p",null,"or drag and drop them here"))})),a.length>0?r.a.createElement(j.a,{dense:!0},a.map((function(e,t){return r.a.createElement(v.a,{key:"file-".concat(t)},r.a.createElement(_.a,null,e.name))}))):null,r.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(e){if(a.length>0){var t=[];a.forEach((function(e){return t.push(function(e){return Z.apply(this,arguments)}(e))})),Promise.all(t).then((function(){console.log("added all file(s)"),o("success","Added all files")})).catch((function(e){I(e).then((function(e){console.log("add files fail",e),o("error","Fail to add file(s). Error message: ".concat(e))}))})).finally((function(){return c([])}))}else console.log("no files to submit"),o("error","No files to add")}},"Submit"))}var te=a(78),ae=Object(n.createContext)();function ne(){var e=Object(n.useContext)(ae),t=Object(l.a)(e,1)[0],a=Object(n.useContext)($);return t.isLoggedIn&&!t.isReadOnly?r.a.createElement(i.a,null,r.a.createElement(u.a,{container:!0,spacing:3},r.a.createElement(u.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement(i.a,{maxWidth:"md"},r.a.createElement("h1",null,"Add entries via spreadsheets"),r.a.createElement(ee,null))),r.a.createElement(u.a,{item:!0,xs:12,sm:12,md:8},r.a.createElement(i.a,{maxWidth:"md"},r.a.createElement("h1",null,"Add an entry"),r.a.createElement(E,{onSubmit:function(e){(function(e){return J.apply(this,arguments)})(e).then((function(e){console.log("added row",e),a("success","Added row ".concat(e.row))})).catch((function(e){I(e).then((function(e){console.log("add row fail",e),a("error","Failed to add row. Error message: ".concat(e))}))}))}}))))):t.isLoggedIn?r.a.createElement(i.a,null,r.a.createElement(s.a,{variant:"body1",align:"center"},"You don't have permission to add entries. Did you forget to turn off read-only mode?")):r.a.createElement(i.a,null,r.a.createElement(s.a,{variant:"body1",align:"center"},"You are not logged in."))}var re=a(199),ce=a(200),oe=a(201),le=a(196),ie=a(197),ue=a(216),se=a(202),me=a(203),de=a(215),fe=a(188),pe=a(189),be=a(220),he=a(206),ge=a(179),ye=a(217),Ee=a(190),Oe=a(191),je=a(90),ve=a.n(je),_e=a(91),ke=a.n(_e);function Se(e){var t=e.onSubmit,a=e.allColumns,c=Object(n.useState)(""),o=Object(l.a)(c,2),i=o[0],u=o[1],d=Object(n.useState)(a),f=Object(l.a)(d,2),p=f[0],b=f[1],h=function(e){e.preventDefault(),t({table:"intake",columns:p,where:i})};return r.a.createElement(de.a,null,r.a.createElement(fe.a,{expandIcon:r.a.createElement(ve.a,null),"aria-controls":"panel-content"},r.a.createElement(ke.a,null),r.a.createElement(s.a,null,"Filters")),r.a.createElement(pe.a,null,r.a.createElement("form",{style:{width:"100%"},onSubmit:h},r.a.createElement(be.a,{id:"columns-label"},"Columns"),r.a.createElement(he.a,{labelId:"columns-label",id:"columns-select",multiple:!0,value:p,onChange:function(e){return b(e.target.value)},input:r.a.createElement(ge.a,null),renderValue:function(e){return e.map((function(e){return r.a.createElement(ye.a,{key:e,label:e})}))},style:{width:"100%"}},a.map((function(e){return r.a.createElement(Ee.a,{key:e,value:e},e)}))),r.a.createElement(g.a,{style:{marginTop:"1rem"},fullWidth:!0,multiline:!0,value:i,label:"Where",onChange:function(e){return u(e.target.value)}}))),r.a.createElement(Oe.a,null,r.a.createElement(m.a,{onClick:function(e){e.preventDefault(),u(""),b(a)},color:"secondary"},"Reset"),r.a.createElement(m.a,{onClick:h},"Filter")))}var we=a(211),Ce=a(192),Ae=a(193),Re=a(194),Ne=[{id:"row",numeric:!0,label:"row"},{id:"submission_date",numeric:!1,label:"Submission date"},{id:"entity",numeric:!1,label:"Entity"},{id:"dba",numeric:!1,label:"DBA"},{id:"facility_address",numeric:!1,label:"Facility Address"},{id:"facility_suite",numeric:!0,label:"Facility Suite #"},{id:"facility_zip",numeric:!0,label:"Facility Zip"},{id:"mailing_address",numeric:!1,label:"Mailing Address"},{id:"mrl",numeric:!1,label:"MRL"},{id:"neighborhood_association",numeric:!1,label:"Neighborhood Association"},{id:"compliance_region",numeric:!1,label:"Compliance Region"},{id:"primary_contact_first_name",numeric:!1,label:"Primary Contact First Name"},{id:"primary_contact_last_name",numeric:!1,label:"Primary Contact Last Name"},{id:"email",numeric:!1,label:"Email"},{id:"phone",numeric:!1,label:"Phone"},{id:"endorse_type",numeric:!1,label:"Endorse Type"},{id:"license_type",numeric:!1,label:"License Type"},{id:"repeat_location",numeric:!1,label:"Repeat location?"},{id:"app_complete",numeric:!1,label:"App complete?"},{id:"fee_schedule",numeric:!1,label:"Fee Schedule"},{id:"receipt_num",numeric:!0,label:"Receipt No."},{id:"cash_amount",numeric:!0,label:"Cash Amount"},{id:"check_amount",numeric:!0,label:"Check Amount"},{id:"card_amount",numeric:!0,label:"Card Amount"},{id:"check_num_approval_code",numeric:!0,label:"Check No. / Approval Code"},{id:"mrl_num",numeric:!1,label:"MRL#"},{id:"notes",numeric:!1,label:"Notes"}],Fe=Object.fromEntries(Ne.map((function(e){return[e.id,""]})));function xe(e){var t=e.dialogOpen,a=e.onDialogClose,c=e.row,o=e.onSubmit,i=c||Fe,u=Object(n.useState)(i.row),s=Object(l.a)(u,2),d=s[0],f=s[1],p=Object(n.useState)(i.submission_date),b=Object(l.a)(p,2),h=b[0],g=b[1],E=Object(n.useState)(i.entity),O=Object(l.a)(E,2),j=O[0],v=O[1],_=Object(n.useState)(i.dba),k=Object(l.a)(_,2),S=k[0],w=k[1],C=Object(n.useState)(i.facility_address),A=Object(l.a)(C,2),R=A[0],N=A[1],F=Object(n.useState)(i.facility_suite),x=Object(l.a)(F,2),P=x[0],L=x[1],D=Object(n.useState)(i.facility_zip),T=Object(l.a)(D,2),M=T[0],I=T[1],W=Object(n.useState)(i.mailing_address),z=Object(l.a)(W,2),B=z[0],J=z[1],Z=Object(n.useState)(i.mrl),V=Object(l.a)(Z,2),q=V[0],Q=V[1],Y=Object(n.useState)(i.neighborhood_association),H=Object(l.a)(Y,2),K=H[0],U=H[1],X=Object(n.useState)(i.compliance_region),$=Object(l.a)(X,2),G=$[0],ee=$[1],te=Object(n.useState)(i.primary_contact_first_name),ae=Object(l.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(i.primary_contact_last_name),oe=Object(l.a)(ce,2),le=oe[0],ie=oe[1],ue=Object(n.useState)(i.email),se=Object(l.a)(ue,2),me=se[0],de=se[1],fe=Object(n.useState)(i.phone),pe=Object(l.a)(fe,2),be=pe[0],he=pe[1],ge=Object(n.useState)(i.endorse_type),ye=Object(l.a)(ge,2),Ee=ye[0],Oe=ye[1],je=Object(n.useState)(i.license_type),ve=Object(l.a)(je,2),_e=ve[0],ke=ve[1],Se=Object(n.useState)(i.repeat_location),Ne=Object(l.a)(Se,2),xe=Ne[0],Pe=Ne[1],Le=Object(n.useState)(i.app_complete),De=Object(l.a)(Le,2),Te=De[0],Me=De[1],Ie=Object(n.useState)(i.fee_schedule),We=Object(l.a)(Ie,2),ze=We[0],Be=We[1],Je=Object(n.useState)(i.receipt_num),Ze=Object(l.a)(Je,2),Ve=Ze[0],qe=Ze[1],Qe=Object(n.useState)(i.cash_amount),Ye=Object(l.a)(Qe,2),He=Ye[0],Ke=Ye[1],Ue=Object(n.useState)(i.check_amount),Xe=Object(l.a)(Ue,2),$e=Xe[0],Ge=Xe[1],et=Object(n.useState)(i.card_amount),tt=Object(l.a)(et,2),at=tt[0],nt=tt[1],rt=Object(n.useState)(i.check_num_approval_code),ct=Object(l.a)(rt,2),ot=ct[0],lt=ct[1],it=Object(n.useState)(i.mrl_num),ut=Object(l.a)(it,2),st=ut[0],mt=ut[1],dt=Object(n.useState)(i.notes),ft=Object(l.a)(dt,2),pt=ft[0],bt=ft[1];return r.a.createElement(we.a,{open:t,onClose:a,onEnter:function(){f(i.row),g(i.submission_date),v(i.entity),w(i.dba),N(i.facility_address),L(i.facility_suite),I(i.facility_zip),J(i.mailing_address),Q(i.mrl),U(i.neighborhood_association),ee(i.compliance_region),re(i.primary_contact_first_name),ie(i.primary_contact_last_name),de(i.email),he(i.phone),Oe(i.endorse_type),ke(i.license_type),Pe(i.repeat_location),Me(i.app_complete),Be(i.fee_schedule),qe(i.receipt_num),Ke(i.cash_amount),Ge(i.check_amount),nt(i.card_amount),lt(i.check_num_approval_code),mt(i.mrl_num),bt(i.notes)},"aria-labelledby":"intake-row-form-dialog"},r.a.createElement(Ce.a,null,"Edit row ",i.row),r.a.createElement(Ae.a,null,r.a.createElement(r.a.Fragment,null,y("row",i.row,(function(e){return f(e.target.value)})),y("Submission date",i.submission_date,(function(e){return g(e.target.value)})),y("Entity",i.entity,(function(e){return v(e.target.value)})),y("DBA",i.dba,(function(e){return w(e.target.value)})),y("Facility Address",i.facility_address,(function(e){return N(e.target.value)})),y("Facility Suite #",i.facility_suite,(function(e){return L(e.target.value)})),y("Facility Zip",i.facility_zip,(function(e){return I(e.target.value)})),y("Mailing Address",i.mailing_address,(function(e){return J(e.target.value)})),y("MRL",i.mrl,(function(e){return Q(e.target.value)})),y("Neighborhood Association",i.neighborhood_association,(function(e){return U(e.target.value)})),y("Compliance Region",i.compliance_region,(function(e){return ee(e.target.value)})),y("Primary Contact First Name",i.primary_contact_first_name,(function(e){return re(e.target.value)})),y("Primary Contact Last Name",i.primary_contact_last_name,(function(e){return ie(e.target.value)})),y("Email",i.email,(function(e){return de(e.target.value)})),y("Phone",i.phone,(function(e){return he(e.target.value)})),y("Endorse Type",i.endorse_type,(function(e){return Oe(e.target.value)})),y("License Type",i.license_type,(function(e){return ke(e.target.value)})),y("Repeat location?",i.repeat_location,(function(e){return Pe(e.target.value)})),y("App complete?",i.app_complete,(function(e){return Me(e.target.value)})),y("Fee Schedule",i.fee_schedule,(function(e){return Be(e.target.value)})),y("Receipt No.",i.receipt_num,(function(e){return qe(e.target.value)})),y("Cash Amount",i.cash_amount,(function(e){return Ke(e.target.value)})),y("Check Amount",i.check_amount,(function(e){return Ge(e.target.value)})),y("Card Amount",i.card_amount,(function(e){return nt(e.target.value)})),y("Check No. / Approval Code",i.check_num_approval_code,(function(e){return lt(e.target.value)})),y("MRL#",i.mrl_num,(function(e){return mt(e.target.value)})),y("Notes",i.notes,(function(e){return bt(e.target.value)})))),r.a.createElement(Re.a,null,r.a.createElement(m.a,{onClick:a,color:"secondary"},"Cancel"),r.a.createElement(m.a,{onClick:function(e){o({row:d,submission_date:h,entity:j,dba:S,facility_address:R,facility_suite_num:P,facility_zip:M,mailing_address:B,mrl:q,neighborhood_association:K,compliance_region:G,primary_contact_first_name:ne,primary_contact_last_name:le,email:me,phone:be,endorse_type:Ee,license_type:_e,repeat_location:xe,app_complete:Te,fee_schedule:ze,receipt_num:Ve,cash_amount:He,check_amount:$e,card_amount:at,check_num_approval_code:ot,mrl_num:st,notes:pt}),a()},color:"primary"},"Submit")))}var Pe=a(195),Le=a(210),De=a(218);function Te(e){var t=e.onSelectAllClick,a=e.order,n=e.orderBy,c=e.numSelected,o=e.rowCount,l=e.onRequestSort,i=e.headers;return r.a.createElement(Pe.a,null,r.a.createElement(le.a,null,r.a.createElement(ie.a,{padding:"checkbox"},r.a.createElement(Le.a,{indeterminate:c>0&&c<o,checked:o>0&&c===o,onChange:t,inputProps:{"aria-label":"select all desserts"}})),i.map((function(e){return r.a.createElement(ie.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(De.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(t=e.id,function(e){l(e,t)})},e.label));var t}))))}function Me(e){var t=e.onRowClick,a=e.isRowSelected,n=e.index,c=e.row,o=e.shownColumns,l="intake-table-checkbox-".concat(n),i=function(e){return"intake-table-cell-".concat(n,"-").concat(e)},u=function(e){return o.includes(e)};return r.a.createElement(le.a,{hover:!0,onClick:t,role:"checkbox","aria-checked":a,tabIndex:-1,key:c.row,selected:a},r.a.createElement(ie.a,{padding:"checkbox"},r.a.createElement(Le.a,{checked:a,inputProps:{"aria-labelledby":l}})),u("row")&&r.a.createElement(ie.a,{key:i("row"),align:"right"},c.row),u("Submission date")&&r.a.createElement(ie.a,{key:i("Submission date"),align:"left"},c.submission_date),u("Entity")&&r.a.createElement(ie.a,{key:i("Entity"),align:"left"},c.entity),u("DBA")&&r.a.createElement(ie.a,{key:i("DBA"),align:"left"},c.dba),u("Facility Address")&&r.a.createElement(ie.a,{key:i("Facility Address"),align:"left"},c.facility_address),u("Facility Suite #")&&r.a.createElement(ie.a,{key:i("Facility Suite #"),align:"right"},c.facility_suite),u("Facility Zip")&&r.a.createElement(ie.a,{key:i("Facility Zip"),align:"right"},c.facility_zip),u("Mailing Address")&&r.a.createElement(ie.a,{key:i("Mailing Address"),align:"left"},c.mailing_address),u("MRL")&&r.a.createElement(ie.a,{key:i("MRL"),align:"left"},c.mrl),u("Neighborhood Association")&&r.a.createElement(ie.a,{key:i("Neighborhood Association"),align:"left"},c.neighborhood_association),u("Compliance Region")&&r.a.createElement(ie.a,{key:i("Compliance Region"),align:"left"},c.compliance_region),u("Primary Contact First Name")&&r.a.createElement(ie.a,{key:i("Primary Contact First Name"),align:"left"},c.primary_contact_first_name),u("Primary Contact Last Name")&&r.a.createElement(ie.a,{key:i("Primary Contact Last Name"),align:"left"},c.primary_contact_last_name),u("Email")&&r.a.createElement(ie.a,{key:i("Email"),align:"left"},c.email),u("Phone")&&r.a.createElement(ie.a,{key:i("Phone"),align:"left"},c.phone),u("Endorse Type")&&r.a.createElement(ie.a,{key:i("Endorse Type"),align:"left"},c.endorse_type),u("License Type")&&r.a.createElement(ie.a,{key:i("License Type"),align:"left"},c.license_type),u("Repeat location?")&&r.a.createElement(ie.a,{key:i("Repeat location?"),align:"left"},c.repeat_location),u("App complete?")&&r.a.createElement(ie.a,{key:i("App complete?"),align:"left"},c.app_complete),u("Fee Schedule")&&r.a.createElement(ie.a,{key:i("Fee Schedule"),align:"left"},c.fee_schedule),u("Receipt No.")&&r.a.createElement(ie.a,{key:i("Receipt No."),align:"left"},c.receipt_num),u("Cash Amount")&&r.a.createElement(ie.a,{key:i("Cash Amount"),align:"left"},c.cash_amount),u("Check Amount")&&r.a.createElement(ie.a,{key:i("Check Amount"),align:"left"},c.check_amount),u("Card Amount")&&r.a.createElement(ie.a,{key:i("Card Amount"),align:"left"},c.card_amount),u("Check No. / Approval Code")&&r.a.createElement(ie.a,{key:i("Check No. / Approval Code"),align:"right"},c.check_num_approval_code),u("MRL#")&&r.a.createElement(ie.a,{key:i("MRL#"),align:"left"},c.mrl_num),u("Notes")&&r.a.createElement(ie.a,{key:i("Notes"),align:"left"},c.notes))}var Ie=a(198),We=a(212),ze=a(99),Be=a(95),Je=a.n(Be),Ze=a(94),Ve=a.n(Ze),qe=a(93),Qe=a.n(qe);function Ye(e){var t=e.numSelected,a=e.onDeleteRows,c=e.onRefreshTable,o=e.onEditRow,i=Object(n.useContext)(ae),u=Object(l.a)(i,1)[0],m=1===t&&!u.isReadOnly,d=t>0&&u.isAdmin&&!u.isReadOnly;return r.a.createElement(Ie.a,null,r.a.createElement(s.a,{variant:"h6"},"Intake"),r.a.createElement(We.a,{title:"Refresh"},r.a.createElement(ze.a,{"aria-label":"refresh-table",onClick:c},r.a.createElement(Qe.a,null))),m&&r.a.createElement(We.a,{title:"Edit"},r.a.createElement(ze.a,{"aria-label":"edit-row",onClick:o},r.a.createElement(Ve.a,null))),d&&r.a.createElement(We.a,{title:"Delete"},r.a.createElement(ze.a,{"aria-label":"delete-rows",onClick:a},r.a.createElement(Je.a,null))),r.a.createElement(s.a,{variant:"subtitle1"},t," selected"))}var He=Ne,Ke=He.map((function(e){return e.label}));function Ue(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function Xe(){var e=Object(n.useState)("asc"),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)("row"),u=Object(l.a)(o,2),m=u[0],d=u[1],f=Object(n.useState)([]),p=Object(l.a)(f,2),b=p[0],h=p[1],g=Object(n.useState)(0),y=Object(l.a)(g,2),E=y[0],O=y[1],j=Object(n.useState)(!0),v=Object(l.a)(j,2),_=v[0],k=v[1],S=Object(n.useState)(10),w=Object(l.a)(S,2),C=w[0],A=w[1],R=Object(n.useState)(!1),N=Object(l.a)(R,2),F=N[0],x=N[1],P=Object(n.useState)(Ke),L=Object(l.a)(P,2),D=L[0],T=L[1],M=Object(n.useState)([]),W=Object(l.a)(M,2),J=W[0],Z=W[1],Q=Object(n.useContext)($),Y=He.filter((function(e){return D.includes(e.label)})),H=function(){(function(){return z.apply(this,arguments)})().then((function(e){Z(e),h([]),console.log("table refreshed"),Q("success","Intake table refreshed")})).catch((function(e){I(e).then((function(e){console.log("table refresh fail",e),Q("error","Failed to refresh intake table. Error message: ".concat(e))}))}))};Object(n.useEffect)(H,[]);var K,U=C-Math.min(C,J.length-E*C),X=function(e){(function(e){return B.apply(this,arguments)})(e.where).then((function(t){Z(t),T(e.columns),console.log("filtered",t),Q("success","Filtered intake table")})).catch((function(e){I(e).then((function(e){console.log("filter fail",e),Q("error","Failed to filter intake table. Error message: ".concat(e))}))}))};return 0===J.length?r.a.createElement(i.a,null,r.a.createElement(Ye,{numSelected:b.length}),r.a.createElement(Se,{onSubmit:X,allColumns:Ke}),r.a.createElement(s.a,{variant:"body1",align:"center"},"No data.")):r.a.createElement(i.a,null,r.a.createElement(Ye,{numSelected:b.length,onDeleteRows:function(){if(b.length>0){var e=[];b.forEach((function(t){return e.push(function(e){return V.apply(this,arguments)}(t))})),Promise.all(e).then((function(){H(),console.log("deleted rows: ".concat(b)),Q("success","Deleted rows: ".concat(b))})).catch((function(e){I(e).then((function(e){console.log("delete rows fail",e),Q("error","Failed to delete rows. Error message: ".concat(e))}))})).finally((function(){return h([])}))}else console.log("no rows to delete"),Q("error","No rows to delete")},onEditRow:function(){return x(!0)},onRefreshTable:H}),r.a.createElement(Se,{onSubmit:X,allColumns:Ke}),r.a.createElement(re.a,null,r.a.createElement(ce.a,{"aria-labelledby":"tableTitle",size:_?"small":"medium","aria-label":"Data table"},r.a.createElement(Te,{headers:Y,numSelected:b.length,order:a,orderBy:m,onSelectAllClick:function(e){if(e.target.checked){var t=J.map((function(e){return e.row}));h(t)}else h([])},onRequestSort:function(e,t){c(m===t&&"asc"===a?"desc":"asc"),d(t)},rowCount:J.length}),r.a.createElement(oe.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(J,function(e,t){return"desc"===e?function(e,a){return Ue(e,a,t)}:function(e,a){return-Ue(e,a,t)}}(a,m)).slice(E*C,E*C+C).map((function(e,t){return r.a.createElement(Me,{key:t,onRowClick:function(t){return function(e,t){var a=b.indexOf(t),n=[];-1===a?n=n.concat(b,t):0===a?n=n.concat(b.slice(1)):a===b.length-1?n=n.concat(b.slice(0,-1)):a>0&&(n=n.concat(b.slice(0,a),b.slice(a+1))),h(n)}(0,e.row)},isRowSelected:(a=e.row,-1!==b.indexOf(a)),index:t,row:e,shownColumns:D});var a})),U>0&&r.a.createElement(le.a,{style:{height:(_?33:53)*U}},r.a.createElement(ie.a,{colSpan:6}))))),r.a.createElement(ue.a,{rowsPerPageOptions:[5,10,25,50,100],component:"div",count:J.length,rowsPerPage:C,page:E,onChangePage:function(e,t){O(t)},onChangeRowsPerPage:function(e){A(parseInt(e.target.value,10)),O(0)}}),r.a.createElement(se.a,{control:r.a.createElement(me.a,{checked:_,onChange:function(e){k(e.target.checked)}}),label:"Dense padding"}),r.a.createElement(xe,{row:(K=b[0],J.find((function(e){return e.row===K}))),dialogOpen:F,onDialogClose:function(){return x(!1)},onSubmit:function(e){1===b.length?function(e){return q.apply(this,arguments)}(e).then((function(){H(),console.log("edited row: ".concat(b)),Q("success","Edited row: ".concat(b))})).catch((function(e){I(e).then((function(e){console.log("edit row fail",e),Q("error","Failed to edit row. Error message: ".concat(e))}))})).finally((function(){return h([])})):(console.log("cannot edit more than 1 row"),Q("error","Cannot edit more than one row"))}}))}function $e(){return r.a.createElement(Xe,null)}function Ge(){return r.a.createElement(i.a,{maxWidth:"lg"},r.a.createElement("iframe",{title:"youtube",width:"100%",height:"500",src:"https://www.youtube-nocookie.com/embed/dQw4w9WgXcQ",frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),r.a.createElement(m.a,{style:{marginRight:"1rem"},variant:"outlined",color:"primary"},"Download this workbook"),r.a.createElement(m.a,{variant:"contained",color:"primary"},"Open in Tableau Desktop"))}function et(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(""),d=Object(l.a)(u,2),f=d[0],p=d[1],b=function(e){(e.preventDefault(),o.length>0&&f.length>0)?t({email:o,password:f}):console.log("must enter both email and password")};return r.a.createElement("form",{onSubmit:b,"aria-label":"login-form"},r.a.createElement(s.a,{style:{marginTop:"1.5rem"},variant:"h6",align:"center"},"Login"),r.a.createElement(g.a,{style:{display:"block"},fullWidth:!0,margin:"normal",label:"Email",variant:"outlined",onChange:function(e){return i(e.target.value)}}),r.a.createElement(g.a,{style:{display:"block"},fullWidth:!0,margin:"normal",label:"Password",type:"password",variant:"outlined",onChange:function(e){return p(e.target.value)}}),r.a.createElement(m.a,{style:{float:"right"},type:"submit",onClick:b,variant:"contained",color:"primary"},"Submit"))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tt=a(204),at=a(205),nt=a(96),rt=a.n(nt),ct=a(72),ot=a.n(ct),lt=rt()({palette:{primary:{main:ot.a[900]},secondary:{main:ot.a[600]}}});o.a.render(r.a.createElement(tt.a,{theme:lt},r.a.createElement(at.a,null),r.a.createElement((function(e){var t=Object(n.useState)("success"),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)("Alert loaded"),u=Object(l.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(!1),f=Object(l.a)(d,2),p=f[0],b=f[1];return r.a.createElement($.Provider,{value:function(e,t){o(e),m(t),p&&b(!1),b(!0)}},e.children,r.a.createElement(G,{severity:c,message:s,open:p,onClose:function(){return b(!1)}}))}),null,r.a.createElement((function(e){var t=Object(n.useReducer)((function(e,t){switch(t.type){case"login":return{name:t.name,isLoggedIn:!0,isAdmin:t.isAdmin,isReadOnly:t.isReadOnly};case"logout":return{name:"",isLoggedIn:!1,isAdmin:!1,isReadOnly:!1};case"enable-readonly":return Object(te.a)({},e,{isReadOnly:!0});case"disable-readonly":return Object(te.a)({},e,{isReadOnly:!1});default:return e}}),{name:"",isLoggedIn:!1,isAdmin:!1,isReadOnly:!1}),a=Object(l.a)(t,2),c=a[0],o=a[1];return r.a.createElement(ae.Provider,{value:[c,o]},e.children)}),null,r.a.createElement((function(){var e=Object(n.useState)(2),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(ae),d=Object(l.a)(o,2),f=d[0],g=d[1],y=Object(n.useContext)($);return f.isLoggedIn?r.a.createElement(i.a,null,r.a.createElement(u.a,{container:!0,item:!0,xs:12,justify:"space-between",alignItems:"center"},r.a.createElement(u.a,{item:!0},r.a.createElement(b,null)),r.a.createElement(u.a,{item:!0},r.a.createElement(s.a,{variant:"body1",align:"right"},"Hi there, ",f.name),r.a.createElement(m.a,{style:{float:"right"},onClick:function(){(function(){return Y.apply(this,arguments)})().then((function(e){g({type:"logout"}),console.log("logged out",e),y("success","Logged out.")})).catch((function(e){I(e).then((function(e){console.log("log out fail",e),y("error","Failed to log out. Error message: ".concat(e))}))}))}},"Logout"),f.isReadOnly?r.a.createElement(m.a,{style:{float:"right"},onClick:function(){H().then((function(e){g({type:"disable-readonly"}),console.log("disabled read-only mode"),y("success","Disabled read-only mode")})).catch((function(e){I(e).then((function(e){console.log("disable read-only mode fail",e),y("error","Failed to disable read-only mode. Error message: ".concat(e))}))}))}},"Disable read-only mode"):r.a.createElement(m.a,{style:{float:"right"},onClick:function(){H().then((function(e){g({type:"enable-readonly"}),console.log("enabled read-only mode"),y("success","Enabled read-only mode")})).catch((function(e){I(e).then((function(e){console.log("enable read-only mode fail",e),y("error","Failed to enable read-only mode. Error message: ".concat(e))}))}))}},"Enable read-only mode"))),r.a.createElement(p,{navValue:a,onNavChange:function(e,t){c(t)}}),function(){switch(a){case 0:return r.a.createElement(h,null);case 1:return r.a.createElement(ne,null);case 2:return r.a.createElement($e,null);case 3:return r.a.createElement(Ge,null)}}()):r.a.createElement(i.a,{maxWidth:"xs"},r.a.createElement(b,null),r.a.createElement(et,{onSubmit:function(e){(function(e){return Q.apply(this,arguments)})(e).then((function(e){g({type:"login",name:e.name,isAdmin:e.is_admin,isReadOnly:e.read_only}),console.log("logged in",e),y("success","Logged in as ".concat(e.name,"."))})).catch((function(e){I(e).then((function(e){console.log("log in fail",e),y("error","Failed to log in. Error message: ".concat(e))}))}))}}))}),null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},42:function(e,t,a){}},[[111,1,2]]]);
//# sourceMappingURL=main.f805567d.chunk.js.map